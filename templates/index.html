{{ define "fullheight" }}
<div class="hero-body px-0 py-0 is-flex is-flex-direction-column" style="background-image: linear-gradient(white 15%, #c9ffff 80%); background-size:cover; background-position:top;">
  <div class="section mt-4 mb-0">
    <div class="columns is-mobile is-centered">
      <div class="column is-11-mobile is-three-quarters-tablet is-two-thirds-desktop is-half-widescreen is-5-fullhd has-text-centered">
        <figure class="image has-text-centered is-fullwidth">
          <img src="/assets/images/logos/extended_logo.svg" alt="Bringing software solutions to your research">
        </figure>
      </div>
    </div>
  </div>
  <div class="is-hidden-touch mt-6 pt-5"></div>
  <div class="is-hidden-touch" style="background-image: url('/assets/images/backgrounds/oxford_skyline_full.svg'); background-position: bottom; background-repeat: repeat-x; background-size: contain; height: 200px">
  </div>
  <div class="is-hidden-desktop" style="background-image: url('/assets/images/backgrounds/oxford_skyline_full.svg'); background-position: bottom left; background-repeat: repeat-x; background-size: cover; height: 200px">
  </div>
  <div class="has-text-centered pb-1" style="margin-top: -50px">
    <a href="#page_1" class="title is-2 fas fa-chevron-down has-text-white"></a>
  </div>
</div>
{{ end }}

{{ define "body" }}
<section id="page_1" class="section is-fullwidth is-medium has-background-info pt-6 pb-1 px-6">
  <div class="block has-text-light">
    <h1 class="title is-1 has-text-light">Welcome to Dreaming Spires</h1>
    <p class="subtitle is-3 has-text-primary is-italic">Bringing Software Solutions to Your Research</p>
    <div class="content is-size-5">
      {{ range .Params.welcome_page.text }}
        <p>{{ . | safeHTML }}</p>
      {{ end }}
    </div>
  </div>

  <div class="content is-size-5">
    <div class="container is-max-widescreen">
      <div class="columns is-desktop">
        <div class="column has-text-light">
          <div class="columns is-centered">
            <div class="column is-10-widescreen">
              <div class="is-flex is-flex-direction-column is-flex-wrap-nowrap">
                <p class="is-size-4 has-text-weight-semibold">We work flexibly to your needs</p>
                {{ range .Params.welcome_page.ways_we_work }}
                <div class="columns is-mobile">
                  <div class="column is-narrow">
                    <span class="icon has-text-primary">
                      <i class="fas fa-check"></i>
                    </span>
                  </div>
                  <div class="column">
                    <p class="has-text-left">
                      {{ . }}
                    </p>
                  </div>
                </div>
                {{ end }}
              </div>
            </div>
          </div>
        </div>
        <div class="column is-1 is-2-fullhd"></div>
        <div class="column has-text-light">
          <div class="columns is-centered">
            <div class="column is-10-widescreen">
              <div class="is-flex is-flex-direction-column is-flex-wrap-nowrap">
                <p class="is-size-4 has-text-weight-semibold">Our Specialisms</p>
                {{ range .Params.welcome_page.specialisms }}
                <div class="columns is-mobile">
                  <div class="column is-narrow">
                    <span class="icon has-text-warning">
                      <i class="fas fa-check"></i>
                    </span>
                  </div>
                  <div class="column">
                    <p class="has-text-left mb-0">
                      {{ .name }}
                    </p>
                    <i><a class="has-text-primary is-underlined" href={{ .link }}>({{ .link_text }})</a></i>
                  </div>
                </div>
                {{ end }}
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="is-hidden-mobile mt-5"></div>
  <div class="has-text-centered py-4">
    <a href="#page_2" class="title is-2 fas fa-chevron-down has-text-white"></a>
  </div>
</section>

<section id="page_2" class="section is-fullwidth is-medium has-background-light pt-6 pb-0 px-6">
  <div class="block has-text-centered mb-6">
    <h1 class="title is-2 has-text-dark">Our Development Process</h1>
    <p class="subtitle is-4 has-text-primary is-italic">The Unique Dreaming Spires Model</p>
  </div>

	<!-- Mobile timeline -->
  <div class="content">
    <div class="columns is-centered is-hidden-desktop mt-2">
      <div class="column is-11">
        {{ range $index, $entry := .Params.timeline }}
          <div class="columns is-mobile is-vcentered mb-5">
            <div class="column is-3 has-text-centered">
              <span class="icon is-large" style="color: {{ index $entry "colour" }}">
                <i class="fas fa-3x {{ index $entry "logo" }}"></i>
              </span>
            </div>
            <div class="column is-9">
              <h2 class="subtitle is-3 has-text-weight-semibold mb-2">
                {{ math.Add $index 1 }}. &nbsp;{{ index $entry "title" | safeHTML }}
              </h2>
              <p>
                {{ index $entry "text" | safeHTML }}
              </p>
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>

  <!-- Desktop timeline -->
  <div class="content is-size-5 is-hidden-touch">
    <div class="container is-max-widescreen">
      <div id="timeline">
        {{ $maxindex := (math.Add (len .Params.timeline) -1) }}
        {{ range $index, $entry := .Params.timeline }}
          <div class="py-2 px-6" style="grid-column: 2 / 3; grid-row: {{ math.Add (math.Mul $index 3) 1 }} / {{ math.Add (math.Mul $index 3) 2 }}" class="has-text-centered">
            <span class="is-size-1" style="font-family: 'Impact', 'Anton', 'Arial Narrow Bold', sans-serif; color: {{ index $entry "colour" }}">{{ math.Add $index 1 }}</span>
          </div>
          <div class="px-6" style="grid-column: 2 / 3; grid-row: {{ math.Add (math.Mul $index 3) 2 }} / {{ math.Add (math.Mul $index 3) 4 }};">
            {{ if (ne $index $maxindex) }}
            <div style="border-left: 1px solid {{ index $entry "colour" }}; border-right: 1px solid  {{ index $entry "colour" }}; width: 0%; height: 100%; min-height: 6rem;"></div>
            {{ else }}
            <div style="width: 0%; height: 100%; min-height: 6rem;"></div>
            {{ end }}
          </div>
          {{ if (eq (math.Mod $index 2) 1) }}
          <div class="box p-5 mb-6 arrow arrow--right" style="grid-column: 1 / 2; grid-row: {{ math.Add (math.Mul $index 3) 1 }} / {{ math.Add (math.Mul $index 3) 6 }}; background-color: {{ index $entry "colour" }}">
          {{ else }}
          <div class="box p-5 mb-6 arrow arrow--left" style="grid-column: 3 / 4; grid-row: {{ math.Add (math.Mul $index 3) 1 }} / {{ math.Add (math.Mul $index 3) 6 }}; background-color: {{ index $entry "colour" }}">
          {{ end }}
            <div class="block pb-6">
              <div class="is-inline-flex is-align-items-center is-size-4-desktop is-size-3-widescreen has-text-light has-text-weight-semibold mb-4">
                <i class="fas {{ index $entry "logo" }}"></i>
                <p class="ml-5 subtitle is-size-4-desktop is-size-3-widescreen  has-text-light has-text-weight-semibold">
                  {{ index $entry "title" | safeHTML }}
                </p>
              </div>
              <p class="has-text-light">
                {{ index $entry "text" | safeHTML }}
              </p>
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>

  <div class="has-text-centered py-4">
    <a href="#signup" class="title is-2 fas fa-chevron-down has-text-info"></a>
  </div>
</section>

{{ partial "signup.html" . | safeHTML }}
{{ end }}
